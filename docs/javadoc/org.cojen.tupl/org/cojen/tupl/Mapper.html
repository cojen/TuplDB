<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (24) -->
<title>Mapper (TuplDB 1.9.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: org.cojen.tupl, package: org.cojen.tupl, interface: Mapper">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Mapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="../../../module-summary.html">org.cojen.tupl</a></li>
<li><a href="package-summary.html">org.cojen.tupl</a></li>
<li><a href="Mapper.html" class="current-selection">Mapper</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#map(R,T)" tabindex="0">map(R, T)</a></li>
<li><a href="#performsFiltering()" tabindex="0">performsFiltering()</a></li>
<li><a href="#checkStore(org.cojen.tupl.Table,R)" tabindex="0">checkStore(Table, R)</a></li>
<li><a href="#checkUpdate(org.cojen.tupl.Table,R)" tabindex="0">checkUpdate(Table, R)</a></li>
<li><a href="#checkDelete(org.cojen.tupl.Table,R)" tabindex="0">checkDelete(Table, R)</a></li>
<li><a href="#sourceProjection()" tabindex="0">sourceProjection()</a></li>
<li><a href="#plan(org.cojen.tupl.diag.QueryPlan.Mapper)" tabindex="0">plan(QueryPlan.Mapper)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Interface Mapper" class="title">Interface Mapper&lt;<span id="type-param-R">R</span>,<wbr><span id="type-param-T">T</span>&gt;</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Mapper&lt;R,<wbr>T&gt;</span></div>
<div class="block">Interface for mapping source rows to target rows. Inverse mapping is optional, but it's
 necessary for supporting modifiable views, and it's also used by the query optimizer.
 Mapper implementations must be thread-safe.

 <p>For supporting inverse mapping, define a public static method for each target column
 which can be mapped to a source column. The naming pattern must be <code>
 &lt;target_name&gt;_to_&lt;source_name&gt;</code>, and the method must be a pure function. The parameter type
 must exactly match the target column type, and the return type must exactly match the source
 column type. If the function doesn't transform the column value, then it should be annotated
 with <a href="Untransformed.html" title="annotation interface in org.cojen.tupl"><code>@Untransformed</code></a>, since it helps with query optimization.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Table.html#map(java.lang.Class,org.cojen.tupl.Mapper)"><code>Table.map</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#checkDelete(org.cojen.tupl.Table,R)" class="member-name-link">checkDelete</a><wbr>(<a href="Table.html" title="interface in org.cojen.tupl">Table</a>&lt;<a href="#type-param-R" title="type parameter in Mapper">R</a>&gt;&nbsp;table,
 <a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;row)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Checks if the given source row can be deleted from the source table.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#checkStore(org.cojen.tupl.Table,R)" class="member-name-link">checkStore</a><wbr>(<a href="Table.html" title="interface in org.cojen.tupl">Table</a>&lt;<a href="#type-param-R" title="type parameter in Mapper">R</a>&gt;&nbsp;table,
 <a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;row)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Checks if the given source row can be stored into the source table.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#checkUpdate(org.cojen.tupl.Table,R)" class="member-name-link">checkUpdate</a><wbr>(<a href="Table.html" title="interface in org.cojen.tupl">Table</a>&lt;<a href="#type-param-R" title="type parameter in Mapper">R</a>&gt;&nbsp;table,
 <a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;row)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Checks if the given source row can be updated into the source table.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#type-param-T" title="type parameter in Mapper">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#map(R,T)" class="member-name-link">map</a><wbr>(<a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;source,
 <a href="#type-param-T" title="type parameter in Mapper">T</a>&nbsp;target)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Maps source rows to target rows.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#performsFiltering()" class="member-name-link">performsFiltering</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns true if the map method can filter out rows, which is true by default.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="diag/QueryPlan.html" title="class in org.cojen.tupl.diag">QueryPlan</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#plan(org.cojen.tupl.diag.QueryPlan.Mapper)" class="member-name-link">plan</a><wbr>(<a href="diag/QueryPlan.Mapper.html" title="class in org.cojen.tupl.diag">QueryPlan.Mapper</a>&nbsp;plan)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Override this method to customize the mapper's query plan.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#sourceProjection()" class="member-name-link">sourceProjection</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns a comma-separated list of source columns which are needed by this <code>
 Mapper</code>.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="map(R,T)">
<h3 id="map(java.lang.Object,java.lang.Object)">map</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="#type-param-T" title="type parameter in Mapper">T</a></span>&nbsp;<span class="element-name">map</span><wbr><span class="parameters">(<a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;source,
 <a href="#type-param-T" title="type parameter in Mapper">T</a>&nbsp;target)</span>
throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Maps source rows to target rows.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>source</code> - never null</dd>
<dd><code>target</code> - never null; all columns are initially unset</dd>
<dt>Returns:</dt>
<dd>null if filtered out</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="performsFiltering()">
<h3>performsFiltering</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">performsFiltering</span>()</div>
<div class="block">Returns true if the map method can filter out rows, which is true by default. If the map
 method never performs filtering, then false should be returned to allow sort operations
 to be pushed to the source table whenever possible.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="checkStore(org.cojen.tupl.Table,R)">
<h3 id="checkStore(org.cojen.tupl.Table,java.lang.Object)">checkStore</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkStore</span><wbr><span class="parameters">(<a href="Table.html" title="interface in org.cojen.tupl">Table</a>&lt;<a href="#type-param-R" title="type parameter in Mapper">R</a>&gt;&nbsp;table,
 <a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;row)</span>
                 throws <span class="exceptions"><a href="ViewConstraintException.html" title="class in org.cojen.tupl">ViewConstraintException</a></span></div>
<div class="block">Checks if the given source row can be stored into the source table. By default, a <code>
 ViewConstraintException</code> is always thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - all required columns are guaranteed to be set</dd>
<dt>Throws:</dt>
<dd><code><a href="ViewConstraintException.html" title="class in org.cojen.tupl">ViewConstraintException</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="checkUpdate(org.cojen.tupl.Table,R)">
<h3 id="checkUpdate(org.cojen.tupl.Table,java.lang.Object)">checkUpdate</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkUpdate</span><wbr><span class="parameters">(<a href="Table.html" title="interface in org.cojen.tupl">Table</a>&lt;<a href="#type-param-R" title="type parameter in Mapper">R</a>&gt;&nbsp;table,
 <a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;row)</span>
                  throws <span class="exceptions"><a href="ViewConstraintException.html" title="class in org.cojen.tupl">ViewConstraintException</a></span></div>
<div class="block">Checks if the given source row can be updated into the source table. By default, a
 <code>ViewConstraintException</code> is always thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - only the primary key columns are guaranteed to be set</dd>
<dt>Throws:</dt>
<dd><code><a href="ViewConstraintException.html" title="class in org.cojen.tupl">ViewConstraintException</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="checkDelete(org.cojen.tupl.Table,R)">
<h3 id="checkDelete(org.cojen.tupl.Table,java.lang.Object)">checkDelete</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkDelete</span><wbr><span class="parameters">(<a href="Table.html" title="interface in org.cojen.tupl">Table</a>&lt;<a href="#type-param-R" title="type parameter in Mapper">R</a>&gt;&nbsp;table,
 <a href="#type-param-R" title="type parameter in Mapper">R</a>&nbsp;row)</span>
                  throws <span class="exceptions"><a href="ViewConstraintException.html" title="class in org.cojen.tupl">ViewConstraintException</a></span></div>
<div class="block">Checks if the given source row can be deleted from the source table. By default, a
 <code>ViewConstraintException</code> is always thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - only the primary key columns are guaranteed to be set</dd>
<dt>Throws:</dt>
<dd><code><a href="ViewConstraintException.html" title="class in org.cojen.tupl">ViewConstraintException</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="sourceProjection()">
<h3>sourceProjection</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">sourceProjection</span>()</div>
<div class="block">Returns a comma-separated list of source columns which are needed by this <code>
 Mapper</code>. Null is returned by default, which indicates that all columns are needed. The
 implementation of this method must return a static constant.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="plan(org.cojen.tupl.diag.QueryPlan.Mapper)">
<h3>plan</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="diag/QueryPlan.html" title="class in org.cojen.tupl.diag">QueryPlan</a></span>&nbsp;<span class="element-name">plan</span><wbr><span class="parameters">(<a href="diag/QueryPlan.Mapper.html" title="class in org.cojen.tupl.diag">QueryPlan.Mapper</a>&nbsp;plan)</span></div>
<div class="block">Override this method to customize the mapper's query plan.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>plan</code> - original plan</dd>
<dt>Returns:</dt>
<dd>original or replacement plan</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2011&#x2013;2025 <a href="https://github.com/cojen">Cojen</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
